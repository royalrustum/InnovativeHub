<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" lang="en">
<body>
	<div th:fragment="leftnav">
		<link
			href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
			rel="stylesheet">

		<div id="leftNavContainer" class="col-md-2 zero-pad full-height">
			<nav class="navbar nav-pills nav-stacked left-nav" role="navigation">
				<th:block th:each="leftNavSection : ${sessionCache.leftNavSections}">
					<li data-toggle="collapse"
						th:attr="data-target='#'+${leftNavSection.header.name}"><a
						href="#"><i class="fa fa-lg fa-2x"
							th:classappend="${leftNavSection.header.iconName}"></i>&nbsp;&nbsp;&nbsp;
							<span th:text="${leftNavSection.header.name}"></span><span class="glyphicon glyphicon-chevron-up toggleIcon"></span> </a></li>
					<ul class="collapse in" th:id="${leftNavSection.header.name}">
						<li class="active"
							th:each="subSection : ${leftNavSection.leftNavItems}"><a
							th:href="${subSection.url}"><i
								class="fa fa-lg fa-2x left-nav-submenu"
								th:classappend="${subSection.screenIconName}"></i><span
								th:text="${subSection.screenName}"></span></a></li>
					</ul>
				</th:block>
			</nav>
		</div>

		<!--  
										<li data-toggle="collapse" data-target="#service" class="collapsed">
						<a href="#"><i class="fa fa-globe fa-lg"></i> Services <span
							class="arrow"></span></a>
					</li>
					<ul class="sub-menu collapse" id="service">
						<li>New Service 1</li>
						<li>New Service 2</li>
						<li>New Service 3</li>
					</ul>


					<li data-toggle="collapse" data-target="#new" class="collapsed">
						<a href="#"><i class="fa fa-car fa-lg"></i> New <span
							class="arrow"></span></a>
					</li>
					<ul class="sub-menu collapse" id="new">
						<li>New New 1</li>
						<li>New New 2</li>
						<li>New New 3</li>
					</ul>


					<li><a href="#"> <i class="fa fa-user fa-lg"></i> Profile
					</a></li>

					<li><a href="#"> <i class="fa fa-users fa-lg"></i> Users
					</a></li>
				</ul>
			</div>
		</div>
	 -->

		<script type="text/javascript">
			$(document)
					.ready(
							function() {
								$('#leftNavContainer .collapse')
										.on(
												'hidden.bs.collapse',
												function() {
													$(this)
															.prev()
															.find(".glyphicon")
															.removeClass(
																	"glyphicon-chevron-up")
															.addClass(
																	"glyphicon-chevron-down");
												});

								$('#leftNavContainer .collapse')
										.on(
												'shown.bs.collapse',
												function() {
													$(this)
															.prev()
															.find(".glyphicon")
															.removeClass(
																	"glyphicon-chevron-down")
															.addClass(
																	"glyphicon-chevron-up");
												});
							});
		</script>
	</div>
</body>
</html>